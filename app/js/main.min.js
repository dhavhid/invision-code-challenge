window.simplysocial=function(){return{init:function(t,a){this.cleanUp(),this.loadContent(t,a)},cleanUp:function(){$(".content .widget, .content .load-more").remove()},loadContent:function(t,a){var n=this,e=_.clone(data.posts);"all"!=a&&(e=_.filter(data.posts,function(t){return t.type==a})),_.forEach(e,function(a,e){n.createWidget(a,t)})},createWidget:function(t,a){var n="list"==a?"widget col-xs-10 col-xs-offset-1 col-sm-8 col-sm-offset-2 col-md-6 col-md-offset-3":"widget col-xs-6 col-sm-4",e=$("<div>",{class:n}),i=$("<div>",{class:"post clearfix"}),o=$("<img>",{src:"images/"+t.profilePicture}),l=$("<div>",{class:"post-container"}),s=$("<div>",{class:"post-author"}).append(t.name),p=$("<div>",{class:"post-content"}).append(t.content),c=$("<div>",{class:"post-replies"}),d="";"text"!=t.type&&(d=$("<div>",{class:"post-media"}).append("<img src='"+t.media+"' alt='"+t.content+"'>"),p.append($("<a>",{href:t.link,target:"_blank",title:t.link}).append(t.link))),_.isArray(t.replies)&&c.append($("<a>",{href:"#",title:"Expand"}).append("Expand <img src='images/arrowDown.png' alt='Expand'>"));var r=$("<div>",{class:"post-actions"}).append(this.createActions(t));l.append(r).append(s).append(p).append(c),i.append(o).append(l),e.append(i).append(d),$(".content").append(e)},createActions:function(t){return $("<ul>").append($("<li>").append("<a href='#' title='Share'><img src='images/shareIcon.png' alt='Share'></a>")).append($("<li>").append("<a href='#' title='Like'><img src='images/likeIcon.png' alt='Like'></a>")).append($("<li>").append(t.timeAgo))}}}(),$(function(){$(".calloutbox input").focus(),simplysocial.init("list","all"),$(".calloutbox input").on("keydown",function(){var t=$(this);"What's on your mind?"==t.val().trim()&&t.val("")}).on("blur",function(){var t=$(this);""==t.val().trim()&&t.val("What's on your mind?").focus()}),$(".tabs li").on("click",function(t){t.preventDefault();var a=$(this);$(".tabs li").removeClass("active"),a.addClass("active");var n=a.attr("data-filter");simplysocial.init("list",n)}),$(".load-more").on("click",function(t){t.preventDefault(),simplysocial.loadContent("list",$(".tabs li.active").attr("data-filter"))})});